(this.webpackJsonpfrontend=this.webpackJsonpfrontend||[]).push([[0],{101:function(e,t,n){},122:function(e,t,n){},123:function(e,t,n){"use strict";n.r(t);var r=n(0),c=n.n(r),a=n(21),i=n.n(a),s=n(27),u=(n(101),n(56)),o=n(8),l=n(162),p=n(163),j=n(159),d=n(46),b=function(e){return e.blueQuote.quotes},h=function(e){return e.blueQuote.average},f=function(e){return e.blueQuote.slippage},v=n(14),x=n.n(v),O=n(41),g=n(16),y=n(17),m=n(73),w=n.n(m).a.create({baseURL:"http://localhost:8080/api/",timeout:3e4,headers:{Accept:"application/json","Content-Type":"application/json"},data:{}}),_=new(function(){function e(t){Object(g.a)(this,e),this.url=void 0,this.url=t+(t.endsWith("/")?"":"/")}return Object(y.a)(e,[{key:"list",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;return w.get(this.url,{params:e})}},{key:"detail",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;return w.get("".concat(this.url).concat(e),{params:t})}},{key:"create",value:function(e){return w.post(this.url,e)}},{key:"edit",value:function(e,t){return w.put("".concat(this.url).concat(e),t)}},{key:"delete",value:function(e){return w.delete("".concat(this.url).concat(e))}}]),e}())("quotes");var k=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{groupBy:"source",minutesAway:1440};return function(t){return new Promise(function(){var n=Object(O.a)(x.a.mark((function n(r,c){var a,i,s;return x.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,_.list(e);case 3:a=n.sent,i=a.data,s=i.reduce((function(e,t){return"_id"in t&&(e[t._id]=t.quotes),e}),{}),t(B.setQuotes(s)),r(s),n.next=13;break;case 10:n.prev=10,n.t0=n.catch(0),c(n.t0);case 13:case"end":return n.stop()}}),n,null,[[0,10]])})));return function(e,t){return n.apply(this,arguments)}}())}},S=function(e){return function(t){return new Promise(function(){var n=Object(O.a)(x.a.mark((function n(r,c){var a,i;return x.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,_.list({source:e.source,minutesAway:e.minutesAway});case 3:a=n.sent,i=a.data,t(B.setQuotesBySource({source:e.source,quotes:i})),r(i),n.next=12;break;case 9:n.prev=9,n.t0=n.catch(0),c(n.t0);case 12:case"end":return n.stop()}}),n,null,[[0,9]])})));return function(e,t){return n.apply(this,arguments)}}())}},A=function(){return function(e){return new Promise(function(){var t=Object(O.a)(x.a.mark((function t(n,r){var c,a;return x.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,w.get("average");case 3:c=t.sent,a=c.data,e(B.setAverage(a)),n(a),t.next=12;break;case 9:t.prev=9,t.t0=t.catch(0),r(t.t0);case 12:case"end":return t.stop()}}),t,null,[[0,9]])})));return function(e,n){return t.apply(this,arguments)}}())}},q=function(){return function(e){return new Promise(function(){var t=Object(O.a)(x.a.mark((function t(n,r){var c,a,i;return x.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,w.get("slippage");case 3:c=t.sent,a=c.data,i=a.reduce((function(e,t){var n=t.source,r=t.buy_price_slippage,c=t.sell_price_slippage;return e[n]={buy_price_slippage:r,sell_price_slippage:c},e}),{}),e(B.setQuoteSlippage(i)),n(i),t.next=13;break;case 10:t.prev=10,t.t0=t.catch(0),r(t.t0);case 13:case"end":return t.stop()}}),t,null,[[0,10]])})));return function(e,n){return t.apply(this,arguments)}}())}},Q=Object(d.b)({name:"blueQuote",initialState:{quotes:{},average:null,slippage:{}},reducers:{setQuotes:function(e,t){e.quotes=t.payload},setQuotesBySource:function(e,t){e.quotes[t.payload.source]=t.payload.quotes},setAverage:function(e,t){e.average=t.payload},setQuoteSlippage:function(e,t){e.slippage=t.payload}}}),B=Q.actions,F=Q.reducer,C=n(165),P=n(166),L=n(168),I=n(160),M=n(164),T=n(167),W=n(2),$=function(e){return e<=0?"success.light":"error.light"},z=function(e){var t=e.slippage;return Object(W.jsx)(M.a,{variant:"caption",color:$(t),children:t.toFixed(2)})},D=function(e){var t=e.price;return Object(W.jsxs)(M.a,{variant:"body1",children:["$",t.toFixed(2)]})},E=function(e){var t=e.quote,n=e.slippage,r=e.onShowBehavior;return Object(W.jsx)(j.a,{item:!0,xs:12,sm:6,children:Object(W.jsxs)(C.a,{variant:"outlined",children:[Object(W.jsxs)(P.a,{children:[Object(W.jsxs)(M.a,{variant:"body2",color:"text.secondary",sx:{mb:2},children:["Source:",Object(W.jsx)(T.a,{href:t.source,style:{paddingLeft:4},children:t.source.split("//")[1].split("/")[0]})]}),Object(W.jsxs)(j.a,{container:!0,spacing:1,children:[Object(W.jsxs)(j.a,{item:!0,xs:6,children:[Object(W.jsx)(M.a,{variant:"h4",component:"div",children:"Buy"}),Object(W.jsx)(D,{price:t.buy_price}),n&&Object(W.jsx)(z,{slippage:n.buy_price_slippage})]}),Object(W.jsxs)(j.a,{item:!0,xs:6,children:[Object(W.jsx)(M.a,{variant:"h4",component:"div",children:"Sell"}),Object(W.jsx)(D,{price:t.sell_price}),n&&Object(W.jsx)(z,{slippage:n.sell_price_slippage})]})]})]}),Object(W.jsx)(L.a,{children:Object(W.jsx)(I.a,{size:"small",onClick:function(){return r(t.source)},children:"Show behavior"})})]})})},J=n(169),R=function(e){var t=e.average;return Object(W.jsxs)(c.a.Fragment,{children:[Object(W.jsx)(M.a,{variant:"h4",sx:{mt:3},children:"Average"}),Object(W.jsxs)(M.a,{variant:"h5",sx:{display:"inline-block"},children:["Buy: $",null===t||void 0===t?void 0:t.average_buy_price.toFixed(2)]}),Object(W.jsxs)(M.a,{variant:"h5",sx:{display:"inline-block",ml:2},children:["Sell: $",null===t||void 0===t?void 0:t.average_sell_price.toFixed(2)]}),Object(W.jsx)(J.a,{sx:{mt:1.5,mb:5}})]})},V=(n(122),n(156)),U=n(170),G=n(161),H=n(75),K=function(e){var t=e.quotes,n=c.a.useMemo((function(){return{getValue:function(e){return new Date(e.createdAt)}}}),[]),r=c.a.useMemo((function(){return[{getValue:function(e){return e.price}}]}),[]),a=[];return a.push({label:"Buy",data:t.map((function(e){return{price:e.buy_price,createdAt:e.createdAt}}))}),a.push({label:"Sell",data:t.map((function(e){return{price:e.sell_price,createdAt:e.createdAt}}))}),Object(W.jsx)("div",{style:{width:"100%",height:400},children:Object(W.jsx)(H.a,{options:{data:a,primaryAxis:n,secondaryAxes:r}})})},N={"1 hour":60,"1 day":1440,"1 week":10080,"1 month":43200},X=function(e){var t=e.open,n=e.onClose,c=e.quotes,a=e.source,i=Object(r.useState)("1 hour"),u=Object(o.a)(i,2),l=u[0],p=u[1],j=Object(s.b)();return Object(W.jsx)(V.a,{open:t,onClose:n,children:Object(W.jsx)(C.a,{sx:{minWidth:500},children:Object(W.jsxs)(P.a,{children:[Object(W.jsxs)(M.a,{variant:"body2",color:"text.secondary",sx:{mb:2},children:["Source:",Object(W.jsx)(T.a,{href:a,style:{paddingLeft:4},children:a&&a.split("//")[1].split("/")[0]})]}),Object(W.jsx)(G.a,{value:l,size:"small",exclusive:!0,onChange:function(e,t){p(t),j(S({source:a,minutesAway:N[t]}))},children:Object.keys(N).map((function(e){return Object(W.jsx)(U.a,{value:e,children:e},e)}))}),Object(W.jsx)(K,{quotes:c})]})})})};var Y=function(){var e=Object(s.c)(b),t=Object(s.c)(h),n=Object(s.c)(f),a=Object(s.b)(),i=Object(r.useRef)(),d=Object(r.useState)(!1),v=Object(o.a)(d,2),x=v[0],O=v[1],g=Object(r.useState)(""),y=Object(o.a)(g,2),m=y[0],w=y[1],_=function(e){O(!0),w(e),clearInterval(i.current)},S=function(){a(k()),a(A()),a(q())},Q=function(){return setInterval(S,15e3)};return Object(r.useEffect)((function(){S(),i.current=Q()}),[]),Object(W.jsxs)(c.a.Fragment,{children:[Object(W.jsx)(l.a,{}),Object(W.jsxs)(p.a,{maxWidth:"md",children:[Object(W.jsx)(R,{average:t}),Object(W.jsx)(j.a,{container:!0,spacing:2,children:e&&Object.entries(e).map((function(e){var t=Object(o.a)(e,2),r=t[0],c=t[1];return Object(W.jsx)(E,{quote:Object(u.a)(Object(u.a)({},c[c.length-1]),{},{source:r}),slippage:n[r],onShowBehavior:_},r)}))}),Object(W.jsx)(X,{open:x,onClose:function(){O(!1),i.current=Q()},quotes:e[m],source:m})]})]})},Z=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,172)).then((function(t){var n=t.getCLS,r=t.getFID,c=t.getFCP,a=t.getLCP,i=t.getTTFB;n(e),r(e),c(e),a(e),i(e)}))},ee=Object(d.a)({reducer:{blueQuote:F}});i.a.render(Object(W.jsx)(s.a,{store:ee,children:Object(W.jsx)(c.a.StrictMode,{children:Object(W.jsx)(Y,{})})}),document.getElementById("root")),Z()}},[[123,1,2]]]);
//# sourceMappingURL=main.35b83e6f.chunk.js.map